<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kitchen Quotation - {{ project_info.quotation_number }}</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        @page {
            size: A4;
            margin: 0.4in;
            @top-center {
                content: "{{ brand_information.name|default:'Speisekamer' }} | Kitchen Design Specialists";
                font-size: 9px;
                color: #666;
                font-family: 'Inter', sans-serif;
            }
            @bottom-center {
                content: "Page " counter(page) " | Generated on 31 Aug 2025 at 10:22 IST by Thaquidheen";
                font-size: 8px;
                color: #999;
                font-family: 'Inter', sans-serif;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 11px;
            line-height: 1.5;
            color: #1a1a1a;
            background: #ffffff;
            font-weight: 400;
        }

        .page-break {
            page-break-before: always;
        }

        .no-break {
            page-break-inside: avoid;
        }

        /* Modern Header with Red Accent */
        .header {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            margin-bottom: 35px;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(220, 38, 38, 0.2);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.05"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            letter-spacing: -0.5px;
            position: relative;
            z-index: 1;
        }

        .header .subtitle {
            font-size: 16px;
            font-weight: 400;
            opacity: 0.95;
            margin-bottom: 5px;
            position: relative;
            z-index: 1;
        }

        .header .tagline {
            font-size: 12px;
            opacity: 0.8;
            font-style: italic;
            position: relative;
            z-index: 1;
        }

        /* Elegant Project Info Cards */
        .project-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 35px;
        }

        .info-card {
            background: white;
            border: 2px solid #f5f5f5;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            position: relative;
        }

        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #dc2626 0%, #ef4444 100%);
            border-radius: 12px 12px 0 0;
        }

        .info-card h3 {
            color: #1a1a1a;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f0f0f0;
            position: relative;
        }

        .info-row {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px 0;
        }

        .info-label {
            font-weight: 500;
            color: #525252;
            min-width: 110px;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .info-value {
            color: #1a1a1a;
            font-weight: 600;
            flex: 1;
            font-size: 11px;
        }

        .info-value.highlight {
            color: #dc2626;
            font-weight: 700;
        }

        /* Premium Pricing Table */
        .pricing-section {
            background: #1a1a1a;
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 35px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
        }

        .pricing-header {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            padding: 25px 30px;
            text-align: center;
        }

        .pricing-header h2 {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 5px;
            letter-spacing: -0.3px;
        }

        .pricing-header .subtitle {
            font-size: 12px;
            opacity: 0.9;
            font-weight: 400;
        }

        .pricing-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: white;
        }

        .pricing-table th {
            background: #f8f8f8;
            color: #1a1a1a;
            padding: 18px 25px;
            font-weight: 600;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #e5e5e5;
        }

        .pricing-table td {
            padding: 16px 25px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 11px;
        }

        .pricing-table tr:hover {
            background: #fafafa;
        }

        .pricing-table .item-name {
            font-weight: 500;
            color: #1a1a1a;
        }

        .pricing-table .amount {
            text-align: right;
            font-weight: 600;
            font-family: 'Inter', monospace;
            color: #1a1a1a;
        }

        .pricing-table .subtotal-row {
            background: #f8f8f8 !important;
            font-weight: 600;
        }

        .pricing-table .discount-row {
            background: #fef2f2 !important;
            color: #dc2626 !important;
        }

        .pricing-table .total-row {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%) !important;
            color: white !important;
            font-weight: 700;
            font-size: 13px;
        }

        .pricing-table .total-row td {
            border-bottom: none;
            padding: 20px 25px;
        }

        /* Modern Section Headers */
        .section {
            margin-bottom: 40px;
        }

        .section-header {
            background: linear-gradient(135deg, #1a1a1a 0%, #404040 100%);
            color: white;
            padding: 20px 25px;
            border-radius: 8px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }

        .section-header::after {
            content: '';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: rgba(220, 38, 38, 0.2);
            border-radius: 50%;
        }

        .section-header h2 {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
            letter-spacing: -0.2px;
            position: relative;
            z-index: 1;
        }

        /* Elegant Cabinet Tables */
        .cabinet-category {
            margin-bottom: 30px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            background: white;
        }

        .category-header {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
            padding: 18px 25px;
            font-size: 15px;
            font-weight: 600;
            position: relative;
        }

        .category-header::before {
            content: '▶';
            margin-right: 10px;
            font-size: 12px;
        }

        .cabinet-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: white;
        }

        .cabinet-table th {
            background: #f8f8f8;
            color: #1a1a1a;
            padding: 15px 20px;
            font-weight: 600;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #e5e5e5;
        }

        .cabinet-table td {
            padding: 18px 20px;
            border-bottom: 1px solid #f5f5f5;
            vertical-align: top;
            font-size: 10px;
        }

        .cabinet-table tr:hover {
            background: #fafafa;
        }

        .cabinet-name {
            font-weight: 600;
            color: #dc2626;
            font-size: 11px;
        }

        .cabinet-specs {
            line-height: 1.6;
            color: #525252;
        }

        .cabinet-specs strong {
            color: #1a1a1a;
            font-weight: 600;
        }

        /* Premium Accessories Table */
        .accessories-section {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 6px 25px rgba(0,0,0,0.08);
        }

        .accessories-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .accessories-table th {
            background: linear-gradient(135deg, #1a1a1a 0%, #404040 100%);
            color: white;
            padding: 16px 18px;
            font-weight: 600;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .accessories-table td {
            padding: 14px 18px;
            border-bottom: 1px solid #f5f5f5;
            font-size: 10px;
        }

        .accessories-table tr:nth-child(even) {
            background: #fafafa;
        }

        .accessories-table tr:hover {
            background: #f0f0f0;
        }

        .accessory-name {
            font-weight: 600;
            color: #1a1a1a;
        }

        /* Lighting Section with Dark Theme */
        .lighting-overview {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            position: relative;
        }

        .lighting-overview::before {
            content: '💡';
            position: absolute;
            top: 25px;
            right: 25px;
            font-size: 24px;
            opacity: 0.7;
        }

        .lighting-overview h3 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #dc2626;
        }

        .overview-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .stat-item {
            background: rgba(220, 38, 38, 0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #dc2626;
        }

        .stat-label {
            font-size: 9px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        /* Modern Timeline */
        .timeline {
            margin: 25px 0;
        }

        .timeline-item {
            background: white;
            border-radius: 12px;
            padding: 20px 25px;
            margin-bottom: 15px;
            border-left: 5px solid #dc2626;
            box-shadow: 0 3px 15px rgba(0,0,0,0.06);
            display: grid;
            grid-template-columns: 140px 80px 1fr;
            gap: 20px;
            align-items: center;
        }

        .timeline-item:hover {
            transform: translateX(5px);
            transition: transform 0.3s ease;
        }

        .phase-name {
            font-weight: 600;
            color: #dc2626;
            font-size: 11px;
        }

        .phase-duration {
            background: #1a1a1a;
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            text-align: center;
            font-weight: 600;
            font-size: 10px;
        }

        .phase-description {
            color: #525252;
            font-size: 10px;
            line-height: 1.5;
        }

        .timeline-summary {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin: 25px 0;
        }

        /* Premium Terms Grid */
        .terms-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 25px 0;
        }

        .terms-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            border-top: 4px solid #dc2626;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }

        .terms-card h4 {
            color: #1a1a1a;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f0f0f0;
        }

        .terms-list {
            list-style: none;
            padding: 0;
        }

        .terms-list li {
            padding: 8px 0;
            padding-left: 20px;
            position: relative;
            font-size: 10px;
            line-height: 1.5;
            color: #525252;
        }

        .terms-list li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #dc2626;
            font-weight: bold;
            font-size: 12px;
        }

        .terms-list li strong {
            color: #1a1a1a;
        }

        /* Customer Notes with Red Accent */
        .customer-notes {
            background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
            border: 2px solid #fecaca;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 35px;
            position: relative;
        }

        .customer-notes::before {
            content: '📝';
            position: absolute;
            top: 25px;
            right: 25px;
            font-size: 20px;
        }

        .customer-notes h3 {
            color: #991b1b;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .note-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 4px solid #dc2626;
            box-shadow: 0 2px 8px rgba(220, 38, 38, 0.1);
        }

        .note-label {
            font-weight: 600;
            color: #991b1b;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }

        .note-content {
            color: #1a1a1a;
            font-size: 11px;
            line-height: 1.5;
        }

        /* Contact Section */
        .contact-section {
            background: #1a1a1a;
            color: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .contact-section::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(220, 38, 38, 0.2) 0%, transparent 70%);
        }

        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .contact-card h4 {
            color: #dc2626;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
        }

        .contact-item {
            margin-bottom: 10px;
            font-size: 10px;
            line-height: 1.5;
            position: relative;
            z-index: 1;
        }

        .contact-item strong {
            color: #f5f5f5;
            font-weight: 600;
        }

        /* Warranty Cards */
        .warranty-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 25px 0;
        }

        .warranty-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            border: 2px solid #f5f5f5;
            position: relative;
        }

        .warranty-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #dc2626 0%, #ef4444 100%);
            border-radius: 12px 12px 0 0;
        }

        .warranty-card h4 {
            color: #1a1a1a;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        /* Premium Footer */
        .footer {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            padding: 35px 30px;
            border-radius: 12px;
            text-align: center;
            margin-top: 40px;
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="footerGrain" width="50" height="50" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.05"/></pattern></defs><rect width="100" height="100" fill="url(%23footerGrain)"/></svg>');
            pointer-events: none;
        }

        .footer-content {
            position: relative;
            z-index: 1;
        }

        .generation-info {
            font-size: 10px;
            opacity: 0.7;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .thank-you {
            font-size: 14px;
            font-weight: 600;
            color: #dc2626;
            margin-bottom: 10px;
        }

        .validity-note {
            font-size: 11px;
            opacity: 0.9;
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .font-bold { font-weight: 600; }
        .text-red { color: #dc2626; }
        .text-black { color: #1a1a1a; }
        .text-gray { color: #525252; }

        /* Print Optimizations */
        @media print {
            .no-print { display: none; }
            body { font-size: 10px; }
            .header { page-break-inside: avoid; }
            .section { margin-bottom: 25px; }
            .cabinet-table, .accessories-table, .pricing-table {
                font-size: 9px;
            }
            .timeline-item {
                page-break-inside: avoid;
            }
        }

        /* Responsive Adjustments */
        @media screen and (max-width: 768px) {
            .project-info,
            .terms-grid,
            .contact-grid,
            .warranty-grid {
                grid-template-columns: 1fr;
            }
            
            .overview-stats {
                grid-template-columns: 1fr;
            }
            
            .timeline-item {
                grid-template-columns: 1fr;
                gap: 10px;
            }
        }
        /* Floor Plans Section */
.floor-plan-group {
    margin-bottom: 35px;
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 6px 25px rgba(0,0,0,0.08);
}

.plan-group-header {
    background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
    color: white;
    padding: 25px 30px;
    position: relative;
}

.plan-group-header h3 {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 8px;
}

.plan-description {
    font-size: 12px;
    opacity: 0.9;
    margin-bottom: 15px;
    line-height: 1.5;
}

.plan-stats {
    display: flex;
    gap: 10px;
}

.stat-badge {
    background: rgba(255, 255, 255, 0.2);
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 10px;
    font-weight: 500;
}

.images-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    padding: 25px;
}

.image-card {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    background: white;
}

.image-container {
    position: relative;
    width: 100%;
    height: 250px;
    overflow: hidden;
}

.plan-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.plan-image:hover {
    transform: scale(1.05);
}

.image-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0,0,0,0.7));
    color: white;
    padding: 20px 15px 15px;
}

.image-caption {
    font-size: 12px;
    font-weight: 600;
    margin-bottom: 4px;
}

.image-meta {
    font-size: 10px;
    opacity: 0.8;
}

/* Placeholder Styles */
.placeholder-image {
    height: 250px;
    background: linear-gradient(135deg, #f8f8f8 0%, #e5e5e5 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px dashed #dc2626;
}

.placeholder-content {
    text-align: center;
    color: #666;
}

.placeholder-icon {
    font-size: 40px;
    margin-bottom: 10px;
}

.placeholder-text {
    font-size: 14px;
    font-weight: 600;
    color: #1a1a1a;
    margin-bottom: 5px;
}

.placeholder-note {
    font-size: 10px;
    color: #999;
    font-style: italic;
}

/* Large Placeholder for No Plans */
.floor-plan-placeholder {
    background: white;
    border-radius: 12px;
    padding: 40px;
    text-align: center;
    border: 2px dashed #dc2626;
    margin: 20px 0;
}

.placeholder-content-large {
    max-width: 400px;
    margin: 0 auto;
}

.placeholder-icon-large {
    font-size: 60px;
    margin-bottom: 20px;
}

.placeholder-content-large h3 {
    color: #1a1a1a;
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 10px;
}

.placeholder-content-large p {
    color: #666;
    font-size: 12px;
    line-height: 1.6;
    margin-bottom: 25px;
}

.placeholder-features {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    text-align: left;
}

.feature-item {
    font-size: 11px;
    color: #dc2626;
    font-weight: 500;
    padding: 5px 0;
}

/* Print adjustments for images */
@media print {
    .images-grid {
        grid-template-columns: 1fr 1fr;
        gap: 15px;
    }
    
    .image-container {
        height: 200px;
    }
    
    .plan-image {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }
}

/* Single image per row for large images */
.images-grid.single-column {
    grid-template-columns: 1fr;
}

.images-grid.single-column .image-container {
    height: 400px;
}
    </style>
</head>
<body>
    <!-- Elegant Header -->
    <div class="header no-break">
        <h1>Kitchen Quotation</h1>
        <div class="subtitle">by {{ brand_information.name|default:"Speisekamer" }}</div>
        <div class="tagline">{{ brand_information.tagline|default:"Crafting Premium Kitchen Experiences Since 2020" }}</div>
    </div>

    <!-- Project Information Cards -->
    <div class="project-info no-break">
        <div class="info-card">
            <h3>Project Details</h3>
            <div class="info-row">
                <span class="info-label">Quotation No</span>
                <span class="info-value highlight">{{ project_info.quotation_number|default:"SPK-000007" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Date & Time</span>
                <span class="info-value">{{ project_info.quotation_date|default:"31 August 2025" }} at {{ project_info.quotation_time|default:"10:22" }} {{ project_info.quotation_timezone|default:"IST" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Valid Until</span>
                <span class="info-value">{{ project_info.quotation_valid_until|default:"30 September 2025" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Budget Tier</span>
                <span class="info-value highlight">{{ project_info.budget_tier|default:"PREMIUM"|title }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Project Status</span>
                <span class="info-value">{{ project_info.status|default:"DRAFT" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Generated By</span>
                <span class="info-value">{{ project_info.generated_by|default:"Thaquidheen" }}</span>
            </div>
        </div>
        
        <div class="info-card">
            <h3>Customer Information</h3>
            <div class="info-row">
                <span class="info-label">Full Name</span>
                <span class="info-value highlight">{{ customer_info.name|default:"Valued Customer" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Email Address</span>
                <span class="info-value">{{ customer_info.email|default:"customer@example.com" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Phone Number</span>
                <span class="info-value">{{ customer_info.phone|default:"+91-9876-543210" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Address</span>
                <span class="info-value">{{ customer_info.address|default:"Mumbai, Maharashtra, India" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Company</span>
                <span class="info-value">{{ customer_info.company|default:"Individual Customer" }}</span>
            </div>
            <div class="info-row">
                <span class="info-label">Currency</span>
                <span class="info-value">{{ project_info.currency|default:"INR" }} (Indian Rupees)</span>
            </div>
        </div>
    </div>

    <!-- Premium Pricing Summary -->
    <div class="pricing-section no-break">
        <div class="pricing-header">
            <h2>Investment Summary</h2>
            <div class="subtitle">Comprehensive pricing breakdown for your premium kitchen</div>
        </div>
        <table class="pricing-table">
            <thead>
                <tr>
                    <th>Component Description</th>
                    <th>Investment (₹)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="item-name">Premium Cabinet Systems</td>
                    <td class="amount">{{ calculations.formatted.line_items_total|default:"₹1,25,000.00" }}</td>
                </tr>
                <tr>
                    <td class="item-name">Designer Door Panels</td>
                    <td class="amount">{{ calculations.formatted.doors_total|default:"₹85,000.00" }}</td>
                </tr>
                <tr>
                    <td class="item-name">Premium Accessories & Hardware</td>
                    <td class="amount">{{ calculations.formatted.accessories_total|default:"₹45,000.00" }}</td>
                </tr>
                <tr>
                    <td class="item-name">Lighting Systems</td>
                    <td class="amount">{{ calculations.lighting_total.formatted|default:"₹18,000.00" }}</td>
                </tr>
                <tr>
                    <td class="item-name">Counter Tops & Surfaces</td>
                    <td class="amount">{{ calculations.formatted.tops_total|default:"₹65,000.00" }}</td>
                </tr>
                <tr class="subtotal-row">
                    <td class="item-name"><strong>Subtotal (Before GST)</strong></td>
                    <td class="amount"><strong>{{ calculations.formatted.subtotal|default:"₹3,38,000.00" }}</strong></td>
                </tr>
                {% if calculations.discount_amount.raw_amount > 0 %}
                <tr class="discount-row">
                    <td class="item-name">🎉 Special Discount ({{ calculations.discount_percentage }}%)</td>
                    <td class="amount">-{{ calculations.discount_amount.formatted|default:"₹25,000.00" }}</td>
                </tr>
                {% endif %}
                <tr>
                    <td class="item-name">GST @ {{ project_info.gst_pct|default:"18" }}%</td>
                    <td class="amount">{{ calculations.formatted.gst_amount|default:"₹56,340.00" }}</td>
                </tr>
                <tr class="total-row">
                    <td><strong>Total Investment</strong></td>
                    <td class="amount"><strong>{{ calculations.formatted.final_total|default:"₹3,69,340.00" }}</strong></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Customer Notes -->
    {% if customer_notes %}
    <div class="customer-notes no-break">
        <h3>Special Instructions & Requirements</h3>
        {% for note_type, note_content in customer_notes.items %}
            {% if note_content %}
            <div class="note-item">
                <div class="note-label">{{ note_type|title }}</div>
                <div class="note-content">{{ note_content }}</div>
            </div>
            {% endif %}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Page Break -->
    <div class="page-break"></div>

    <!-- Cabinet Breakdown -->
    {% if cabinet_breakdown %}
    <div class="section">
        <div class="section-header">
            <h2>Cabinet Systems & Specifications</h2>
        </div>
        
        {% regroup cabinet_breakdown by category as cabinet_categories %}
        {% for category in cabinet_categories %}
        <div class="cabinet-category no-break">
            <div class="category-header">{{ category.grouper }} Collection</div>
            <table class="cabinet-table">
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Technical Specifications</th>
                        <th>Qty</th>
                        <th>Investment (₹)</th>
                    </tr>
                </thead>
                <tbody>
                    {% for cabinet in category.list %}
                    <tr>
                        <td class="cabinet-name">{{ cabinet.name }}</td>
                        <td class="cabinet-specs">
                            <strong>Brand:</strong> {{ cabinet.brand }}<br/>
                            <strong>Cabinet Material:</strong> {{ cabinet.materials.cabinet_material }}<br/>
                            <strong>Door Material:</strong> {{ cabinet.materials.door_material }}<br/>
                            <strong>Dimensions:</strong> {{ cabinet.dimensions.width }} × {{ cabinet.dimensions.height }} × {{ cabinet.dimensions.depth }} mm<br/>
                            <strong>Scope:</strong> {{ cabinet.scope }} Kitchen<br/>
                            <strong>Features:</strong> {% for feature in cabinet.features %}{{ feature }}{% if not forloop.last %}, {% endif %}{% endfor %}
                        </td>
                        <td class="text-center font-bold">{{ cabinet.specifications.quantity }}</td>
                        <td class="text-right font-bold">₹{{ cabinet.specifications.line_total_before_tax|floatformat:2 }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Accessories Section -->
    {% if accessories_detailed %}
    <div class="page-break"></div>
    <div class="section">
        <div class="section-header">
            <h2>Premium Accessories & Hardware</h2>
        </div>
        
        <div class="accessories-section">
            <table class="accessories-table">
                <thead>
                    <tr>
                        <th>Accessory Name</th>
                        <th>Cabinet Application</th>
                        <th>Brand</th>
                        <th>Material Code</th>
                        <th>Qty</th>
                        <th>Investment (₹)</th>
                    </tr>
                </thead>
                <tbody>
                    {% for accessory in accessories_detailed %}
                    <tr>
                        <td class="accessory-name">{{ accessory.name }}</td>
                        <td class="text-gray">{{ accessory.line_item_cabinet }}</td>
                        <td class="font-bold">{{ accessory.brand }}</td>
                        <td class="text-gray">{{ accessory.material_code|default:"Standard" }}</td>
                        <td class="text-center font-bold">{{ accessory.specifications.quantity }}</td>
                        <td class="text-right font-bold">₹{{ accessory.specifications.total_price|floatformat:2 }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% endif %}

    <!-- Lighting Specifications -->
    {% if lighting_specifications %}
    <div class="section">
        <div class="section-header">
            <h2>Intelligent Lighting Systems</h2>
        </div>
        
        <div class="lighting-overview no-break">
            <h3>Lighting Overview</h3>
            <div class="overview-stats">
                <div class="stat-item">
                    <div class="stat-label">Total Investment</div>
                    <div class="stat-value">₹{{ lighting_specifications.overview.total_cost|floatformat:2 }}</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Total Fixtures</div>
                    <div class="stat-value">{{ lighting_specifications.overview.total_fixtures }} Units</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Power Consumption</div>
                    <div class="stat-value">{{ lighting_specifications.overview.estimated_power_consumption }}</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Lighting Zones</div>
                    <div class="stat-value">{% for zone in lighting_specifications.overview.lighting_zones %}{{ zone }}{% if not forloop.last %}, {% endif %}{% endfor %}</div>
                </div>
            </div>
        </div>

        {% if lighting_specifications.lighting_breakdown %}
        <table class="accessories-table">
            <thead>
                <tr>
                    <th>Material Type</th>
                    <th>Cabinet Application</th>
                    <th>LED Systems (₹)</th>
                    <th>Spot Lighting (₹)</th>
                    <th>Total Investment (₹)</th>
                </tr>
            </thead>
            <tbody>
                {% for item in lighting_specifications.lighting_breakdown %}
                <tr>
                    <td class="font-bold">{{ item.material }}</td>
                    <td class="text-gray">{{ item.cabinet_type }}</td>
                    <td class="text-right">₹{{ item.cost_breakdown.led_under_wall_cost|add:item.cost_breakdown.led_work_top_cost|floatformat:2 }}</td>
                    <td class="text-right">₹{{ item.cost_breakdown.spot_lights_cost|floatformat:2 }}</td>
                    <td class="text-right font-bold text-red">₹{{ item.cost_breakdown.total_cost|floatformat:2 }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </div>
    {% endif %}

    {% if project_floor_plans %}
<div class="page-break"></div>
<div class="section">
    <div class="section-header">
        <h2>📐 Floor Plans & Design Images</h2>
    </div>
    
    {% for plan_group in project_floor_plans %}
    <div class="floor-plan-group no-break">
        <div class="plan-group-header">
            <h3>{{ plan_group.title }}</h3>
            {% if plan_group.description %}
            <p class="plan-description">{{ plan_group.description }}</p>
            {% endif %}
            <div class="plan-stats">
                <span class="stat-badge">{{ plan_group.image_count }} Image{{ plan_group.image_count|pluralize }}</span>
                <span class="stat-badge">Group {{ plan_group.sort_order|add:1 }}</span>
            </div>
        </div>
        
        <div class="images-grid">
            {% for image in plan_group.images %}
            <div class="image-card">
                {% if image.image_url %}
                <div class="image-container">
                    <img src="{{ image.image_url }}" alt="{{ image.caption|default:'Floor Plan' }}" class="plan-image"/>
                    <div class="image-overlay">
                        <div class="image-info">
                            <div class="image-caption">{{ image.caption|default:'Design Image' }}</div>
                            {% if image.file_size_display %}
                            <div class="image-meta">{{ image.file_size_display }} • {{ image.file_type|default:'Image' }}</div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="placeholder-image">
                    <div class="placeholder-content">
                        <div class="placeholder-icon">🏠</div>
                        <div class="placeholder-text">{{ image.caption|default:'Floor Plan' }}</div>
                        <div class="placeholder-note">Image will be available in final version</div>
                    </div>
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </div>
    {% endfor %}
</div>

<!-- If no floor plans, show placeholder -->
{% else %}
<div class="page-break"></div>
<div class="section">
    <div class="section-header">
        <h2>📐 Floor Plans & Design Images</h2>
    </div>
    
    <div class="floor-plan-placeholder">
        <div class="placeholder-content-large">
            <div class="placeholder-icon-large">🏠</div>
            <h3>Floor Plans Coming Soon</h3>
            <p>Your custom floor plans and 3D design renderings will be included in the final quotation.</p>
            <div class="placeholder-features">
                <div class="feature-item">✓ 2D Floor Plans</div>
                <div class="feature-item">✓ 3D Renderings</div>
                <div class="feature-item">✓ Material Visualizations</div>
                <div class="feature-item">✓ Lighting Simulations</div>
            </div>
        </div>
    </div>
</div>
{% endif %}
    <!-- Timeline & Terms -->
    <div class="page-break"></div>
    <div class="section">
        <div class="section-header">
            <h2>Project Timeline & Terms</h2>
        </div>
        
        <!-- Timeline -->
        {% if installation_timeline.project_phases %}
        <h3 style="color: #1a1a1a; margin-bottom: 20px; font-size: 16px; font-weight: 600;">Project Execution Timeline</h3>
        <div class="timeline">
            {% for phase in installation_timeline.project_phases %}
            <div class="timeline-item no-break">
                <div class="phase-name">{{ phase.phase }}</div>
                <div class="phase-duration">{{ phase.duration }}</div>
                <div class="phase-description">{{ phase.description }}</div>
            </div>
            {% endfor %}
        </div>
        
        <div class="timeline-summary">
            <strong style="font-size: 16px;">Total Project Timeline: {{ installation_timeline.total_timeline }}</strong>
        </div>
        {% endif %}

        <!-- Terms -->
        {% if terms_conditions %}
        <div class="terms-grid">
            {% if terms_conditions.payment_terms %}
            <div class="terms-card">
                <h4>💳 Payment Terms</h4>
                <ul class="terms-list">
                    <li><strong>Advance Payment:</strong> {{ terms_conditions.payment_terms.advance_payment }}</li>
                    <li><strong>Progress Payment:</strong> {{ terms_conditions.payment_terms.progress_payment }}</li>
                    <li><strong>Final Payment:</strong> {{ terms_conditions.payment_terms.final_payment }}</li>
                    <li><strong>Accepted Methods:</strong> {% for method in terms_conditions.payment_terms.payment_methods %}{{ method }}{% if not forloop.last %}, {% endif %}{% endfor %}</li>
                </ul>
            </div>
            {% endif %}
            
            {% if terms_conditions.delivery_terms %}
            <div class="terms-card">
                <h4>🚛 Delivery Terms</h4>
                <ul class="terms-list">
                    <li><strong>Standard Timeline:</strong> {{ terms_conditions.delivery_terms.standard_delivery }}</li>
                    <li><strong>Express Option:</strong> {{ terms_conditions.delivery_terms.express_delivery }}</li>
                    <li><strong>Delivery Scope:</strong> {{ terms_conditions.delivery_terms.delivery_scope }}</li>
                    <li><strong>Installation:</strong> {% if terms_conditions.delivery_terms.installation_included %}Included in Package{% else %}Additional Service{% endif %}</li>
                </ul>
            </div>
            {% endif %}
        </div>
        {% endif %}
    </div>

    <!-- Warranty & Contact -->
    <div class="page-break"></div>
    <div class="section">
        <div class="section-header">
            <h2>Warranty & Support</h2>
        </div>
        
        <!-- Warranty -->
        {% if warranty_information.coverage_summary %}
        <div class="warranty-grid">
            <div class="warranty-card">
                <h4>🛡️ Warranty Coverage</h4>
                <ul class="terms-list">
                    {% for component, period in warranty_information.coverage_summary.items %}
                    <li><strong>{{ component|title }}:</strong> {{ period }}</li>
                    {% endfor %}
                </ul>
            </div>
            
            {% if warranty_information.what_is_covered %}
            <div class="warranty-card">
                <h4>✅ What's Covered</h4>
                <ul class="terms-list">
                    {% for item in warranty_information.what_is_covered %}
                    <li>{{ item }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}
        </div>
        {% endif %}
    </div>

    <!-- Contact Section -->
    <div class="contact-section">
        <div class="contact-grid">
            <div class="contact-card">
                <h4>📞 Contact Information</h4>
                <div class="contact-item"><strong>Company:</strong> {{ brand_information.name|default:"Speisekamer" }}</div>
                <div class="contact-item"><strong>Phone:</strong> {{ brand_information.contact_info.phone|default:"+91-9876-543210" }}</div>
                <div class="contact-item"><strong>Email:</strong> {{ brand_information.contact_info.email|default:"info@speisekamer.com" }}</div>
                <div class="contact-item"><strong>Website:</strong> {{ brand_information.contact_info.website|default:"www.speisekamer.com" }}</div>
            </div>
            
            <div class="contact-card">
                <h4>🏢 Company Information</h4>
                <div class="contact-item"><strong>Address:</strong> {{ brand_information.contact_info.address|default:"Mumbai, Maharashtra, India" }}</div>
                <div class="contact-item"><strong>Established:</strong> {{ brand_information.established|default:"2020" }}</div>
                <div class="contact-item"><strong>Specialization:</strong> {{ brand_information.specialization|default:"Premium Kitchen Solutions" }}</div>
                <div class="contact-item"><strong>Certifications:</strong> {% if brand_information.certifications %}{% for cert in brand_information.certifications %}{{ cert }}{% if not forloop.last %}, {% endif %}{% endfor %}{% else %}ISO 9001:2015, Premium Quality Assured{% endif %}</div>
            </div>
        </div>
    </div>

    <!-- Premium Footer -->
    <div class="footer">
        <div class="footer-content">
            <div class="generation-info">
                <strong>Generated on:</strong> 31 August 2025 at 10:22 IST by Thaquidheen<br/>
                <strong>UTC Time:</strong> 31 August 2025 at 04:52 UTC | Template: Premium Red & Black Professional v3.0<br/>
                {% if calculations.discount_reason %}<strong>Special Offer:</strong> {{ calculations.discount_reason }}<br/>{% endif %}
            </div>
            <div class="thank-you">
                Thank you for choosing {{ brand_information.name|default:"Speisekamer" }}!
            </div>
            <div class="validity-note">
                This quotation is valid for 30 days from the date of generation. Terms and conditions apply.
            </div>
        </div>
    </div>
</body>
</html>